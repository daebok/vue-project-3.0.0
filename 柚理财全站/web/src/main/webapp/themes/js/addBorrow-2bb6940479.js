webpackJsonp([23],{0:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e){Modal.error({title:e,okText:"\u5173\u95ed",wrapClassName:"tiperror"})}var l=n(9),o=r(l),i=n(14),u=r(i),c=n(10),s=r(c),f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};n(8);var d=n(2),m=r(d),p=n(1),h=r(p),g=n(133),b=r(g),E=n(5);n(108);var y=s["default"].create,w=s["default"].Item,v=h["default"].createClass({displayName:"BorrowForm",getInitialState:function(){return{data:"",imgsrc:"/validimg.html"}},confirm:function(e){var t=this;e.preventDefault(),this.props.form.validateFields(function(e,n){if(e)return void console.log("Errors in form!!!");console.log("Submit!!!"),console.log(n);var r=t;n[$("body").data("tokenname")]=$("body").data("token"),$.ajax({url:"/borrow/doAddBorrow.html",type:"POST",dataType:"json",data:n}).done(function(e){e.result?m["default"].render(h["default"].createElement(b["default"],{callback:r.settimefun,link:"/member/myLoan/list.html",linkname:"\u8d26\u6237\u501f\u6b3e\u5217\u8868",time:3,text:"\u60a8\u7684\u501f\u6b3e\u7533\u8bf7\u5df2\u63d0\u4ea4\uff0c\u8bf7\u8010\u5fc3\u7b49\u5f85\u5ba1\u6838\uff01",textSmall:"\u53ef\u4ee5\u5728\u8d26\u6237\u4e2d\u5fc3>\u6211\u7684\u501f\u6b3e>\u501f\u6b3e\u5217\u8868\u4e2d\u67e5\u770b\u5ba1\u6838\u72b6\u6001"}),document.getElementById("j-addBorrow")):(a(e.msg),$(".codeimg")[0].click())}).fail(function(){a("\u7f51\u7edc\u5f02\u5e38\uff0c\u8bf7\u91cd\u8bd5\uff01")})})},settimefun:function(){window.location.href="/member/myLoan/list.html"},getInfo:function(){var e=this;$.ajax({url:"/borrow/getBorrowData.html",type:"POST",dataType:"json"}).done(function(t){e.setState({data:t})}).fail(function(){a("\u7f51\u7edc\u5f02\u5e38\uff0c\u8bf7\u91cd\u8bd5\uff01")})},componentDidMount:function(){this.getInfo()},changeimg:function(){this.setState({imgsrc:"/validimg.html?t="+Math.random()})},render:function(){var e=this.state.data;if(!e)return!1;var t=this.props.form,n=t.getFieldProps,r=(t.getFieldError,t.isFieldValidating,n("validCode",{validate:[{rules:[{required:!0,whitespace:!0,message:"\u8bf7\u586b\u5199\u9a8c\u8bc1\u7801"}],trigger:["onBlur"]},{rules:[{validator:E.ValidateFn.checkValidCode.bind(this)}],trigger:["onBlur"]}]})),a=e.borrow.repayStyle,l="";if(1==a?l="\u7b49\u989d\u672c\u606f":2==a?l="\u4e00\u6b21\u6027\u8fd8\u6b3e":3==a?l="\u6bcf\u6708\u8fd8\u606f\u5230\u671f\u8fd8\u672c":4==a?l="\u7b49\u989d\u672c\u91d1":5==a&&(l="\u6bcf\u5b63\u8fd8\u606f\u5230\u671f\u8fd8\u672c"),!e)return!1;var i="1"==e.borrow.timeType?"\u5929":"\u4e2a\u6708",c=[],d=$("body").attr("data-url");e.borrow.picPath&&(c=e.borrow.picPath);var m="\u65e0";e.borrow.mtgPath&&(m=e.borrow.mtgPath.map(function(e,t){return h["default"].createElement("li",{key:t},h["default"].createElement("img",{src:d+e}))}));var p="\u65e0";return"1"==e.borrow.isVouch&&$.each(e.userCompanyList,function(t,n){e.borrow.vouchId==n.id&&(p=n.realName)}),h["default"].createElement("div",{className:"inventory"},h["default"].createElement("ul",{className:"list"},h["default"].createElement("li",null,h["default"].createElement("span",{className:"number"},e.borrow.account,h["default"].createElement("s",null,"\u5143")),"\u501f\u6b3e\u91d1\u989d"),h["default"].createElement("li",null,h["default"].createElement("span",{className:"number"},e.borrow.apr,h["default"].createElement("s",null,"%")),"\u5e74\u5229\u7387"),h["default"].createElement("li",null,h["default"].createElement("span",{className:"number"},e.borrow.timeLimit,h["default"].createElement("s",null,i)),"\u501f\u6b3e\u671f\u9650")),h["default"].createElement("dl",{className:"interest"},h["default"].createElement("dt",null,"\u9884\u8ba1\u5229\u606f"),h["default"].createElement("dd",null,parseFloat(e.borrow.repaymentInterest).toFixed(2),"\u5143\uff08\u6295\u8d44\u4eba\u5411\u501f\u6b3e\u4eba\u6536\u53d6\u4f5c\u4e3a\u5229\u606f\uff09")),h["default"].createElement("dl",null,h["default"].createElement("dt",null,"\u501f\u6b3e\u6807\u9898"),h["default"].createElement("dd",null,e.borrow.projectName)),h["default"].createElement("dl",null,h["default"].createElement("dt",null,"\u501f\u6b3e\u7528\u9014"),h["default"].createElement("dd",null,e.borrow.borrowUse)),h["default"].createElement("dl",null,h["default"].createElement("dt",null,"\u8fd8\u6b3e\u65b9\u5f0f"),h["default"].createElement("dd",null,l)),h["default"].createElement("dl",null,h["default"].createElement("dt",null,"\u501f\u6b3e\u8be6\u60c5"),h["default"].createElement("dd",{style:{width:880}},e.borrow.content)),h["default"].createElement("dl",{className:"vertical"},h["default"].createElement("dt",null,"\u501f\u6b3e\u8d44\u6599"),h["default"].createElement("dd",null,h["default"].createElement("ul",null,c.map(function(e,t){return h["default"].createElement("li",{key:t},h["default"].createElement("img",{src:d+e}))})))),h["default"].createElement("dl",{className:"vertical"},h["default"].createElement("dt",null,"\u62b5\u62bc\u7269\u8d44\u6599"),h["default"].createElement("dd",null,h["default"].createElement("ul",null,m))),h["default"].createElement("dl",null,h["default"].createElement("dt",null,"\u62c5\u4fdd\u516c\u53f8"),h["default"].createElement("dd",null,p)),h["default"].createElement(s["default"],{horizontal:!0,className:"form-themes",form:this.props.form,onSubmit:this.confirm},h["default"].createElement("dl",null,h["default"].createElement("dt",{style:{marginTop:"12px"}},"\u9a8c\u8bc1\u7801"),h["default"].createElement("div",{className:"col-3"},h["default"].createElement(w,{hasFeedback:!0},h["default"].createElement(u["default"],f({},r,{className:"ant-input ant-input-lg",placeholder:"\u9a8c\u8bc1\u7801",maxLength:"4",size:"large",type:"text",autoComplete:"off"})))),h["default"].createElement("div",{className:"col-8 pl20"},h["default"].createElement("img",{onClick:this.changeimg,src:this.state.imgsrc,className:"ant-form-text codeimg"}))),h["default"].createElement("div",{className:"btn"},h["default"].createElement(w,{style:{display:"inline-block"}},h["default"].createElement(o["default"],{type:"primary",htmlType:"submit",className:"subbutton"},"\u786e\u8ba4\u501f\u6b3e")),h["default"].createElement("a",{href:"/borrow/addBorrowPage.html",className:"subbutton_back"},"\u8fd4\u56de\u4fee\u6539"))))}});v=y()(v),m["default"].render(h["default"].createElement(v,null),document.getElementById("j-addBorrow"))},5:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ValidateFn=void 0;var r=n(7),a={regexRealName:function(e,t,n){t?r.Reg.regexRealName(t)?n():n([new Error("\u7528\u6237\u540d\u683c\u5f0f\u4e0d\u6b63\u786e")]):n()},regexChnName:function(e,t,n){t?r.Reg.regexChnName(t)?n():n([new Error("\u4ec5\u4e3a\u4e2d\u6587,\u4e14\u4e0d\u5305\u542b\u7a7a\u683c")]):n()},regexUserName:function(e,t,n){t&&r.Reg.regexUserName(t)?n([new Error("6-20\u4f4d\u5b57\u7b26\uff0c\u7531\u5b57\u6bcd\u6216\u5b57\u6bcd\u52a0\u6570\u5b57\u7ec4\u6210")]):n()},regexUserNameAjax:function(e,t,n){if(t)if(/^(?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z]{6,20}|[a-zA-Z]{6,20}$/.test(t)){var r=this;if(this.state.regexUserNameflag==t)return void n();$.ajax({url:"/user/checkUserName.html",type:"POST",dataType:"json",data:{userName:t}}).done(function(e){e.result?(r.state.regexUserNameflag=t,n()):n([new Error(e.msg)])}).fail(function(){n([new Error("\u7f51\u7edc\u5f02\u5e38\uff0c\u8bf7\u91cd\u8bd5")])})}else n([new Error("6-20\u4f4d\u5b57\u7b26\uff0c\u7531\u5b57\u6bcd\u6216\u5b57\u6bcd\u52a0\u6570\u5b57\u7ec4\u6210")]);else n()},regexIdCard:function(e,t,n){t?r.Reg.regexIdCard(t)?n():n([new Error("\u8eab\u4efd\u8bc1\u683c\u5f0f\u4e0d\u6b63\u786e,\u4ec5\u9650\u6570\u5b57\u548c\u5927\u5199X")]):n()},regexPW:function(e,t,n){t&&r.Reg.regexPassword(t)?n([new Error("8-16\u4f4d\u5b57\u7b26\uff0c\u5176\u4e2d\u5305\u62ec\u81f3\u5c11\u4e00\u4e2a\u5b57\u6bcd\u548c\u4e00\u4e2a\u6570\u5b57")]):n()},isMobile:function(e,t,n){t&&r.Reg.isMobile(t)?n([new Error("\u62b1\u6b49\uff0c\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u624b\u673a\u53f7\u7801")]):n()},isNumber:function(e,t,n){t&&r.Reg.isNumber(t)?n([new Error("\u62b1\u6b49\uff0c\u8bf7\u8f93\u5165\u6b63\u6574\u6570")]):n()},isApr:function(e,t,n){t&&r.Reg.isApr(t)?n([new Error("\u62b1\u6b49\uff0c\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u6570\u5b57")]):n()},decimal:function(e,t,n){t&&r.Reg.isFigure(t)?n([new Error("\u62b1\u6b49\uff0c\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u6570\u5b57")]):n()},isFigure:function(e,t,n){t&&(r.Reg.isFigure(t)||15!=t.length)?n([new Error("\u62b1\u6b49\uff0c\u8bf7\u8f93\u516515\u4f4d\u6570\u5b57")]):n()},isEmail:function(e,t,n){t&&r.Reg.isEmail(t)?n([new Error("\u62b1\u6b49\uff0c\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u90ae\u7bb1")]):n()},isFixNumber:function(e,t,n){t&&(r.Reg.isFixNumber(t)||r.Reg.isFigure(t)||t.length>12||r.Reg.isPhone(t))?n([new Error("\u62b1\u6b49\uff0c\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u5ea7\u673a\u53f7\u7801")]):n()},isloginName:function(e,t,n){t&&r.Reg.islogname(t)?n([new Error("\u62b1\u6b49\uff0c\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u624b\u673a\u53f7\u7801\u6216\u90ae\u7bb1")]):n()},checkMobile:function(e,t,n){if(t)if(r.Reg.isMobile(t))n([new Error("\u62b1\u6b49\uff0c\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u624b\u673a\u53f7\u7801")]);else{var a=this;if(this.state.mobileflag==t)return void n();$.ajax({url:"/user/checkMobile.html",type:"POST",dataType:"json",data:{mobile:t}}).done(function(e){e.result?(a.setState({mobileflag:t}),n()):n([new Error(e.msg)])}).fail(function(){n([new Error("\u7f51\u7edc\u5f02\u5e38\uff0c\u8bf7\u91cd\u8bd5")])})}else n()},checkValidCode:function(e,t,n){if(t){var r=this;if(this.state.ValidCodeflag==t)return void n();$.ajax({url:"/valicode.html",type:"POST",dataType:"json",data:{validCode:t}}).done(function(e){e.result?(r.setState({ValidCodeflag:t}),n()):(n([new Error(e.msg)]),$(".codeimg")[0].click())}).fail(function(){n([new Error("\u7f51\u7edc\u5f02\u5e38\uff0c\u8bf7\u91cd\u8bd5")])})}else n()}};t.ValidateFn=a},53:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){f["default"].success({title:"\u53d1\u9001\u6210\u529f",content:e,okText:"\u786e\u5b9a"})}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var u,c,s=n(3),f=r(s),d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=n(1),h=r(p),g=n(2),b=(r(g),c=u=function(e){function t(e){a(this,t);var n=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));if(n.state={count:e.time,showTime:""},n.tick=n.tick.bind(n),"function"!=typeof n.tick)throw new TypeError('Value of "this.tick" violates contract, expected () => any got '+(null===n.tick?"null":"object"===d(n.tick)&&n.tick.constructor?n.tick.constructor.name||"[Unknown Object]":d(n.tick)));if(n.handleChange=n.handleChange.bind(n),"function"!=typeof n.handleChange)throw new TypeError('Value of "this.handleChange" violates contract, expected () => any got '+(null===n.handleChange?"null":"object"===d(n.handleChange)&&n.handleChange.constructor?n.handleChange.constructor.name||"[Unknown Object]":d(n.handleChange)));return n}return o(t,e),m(t,[{key:"tick",value:function(){this.setState({count:this.state.count-1}),this.set}},{key:"handleChange",value:function(){this.state.count>0?this.tick():this.props.callback&&this.props.callback()}},{key:"componentDidMount",value:function(){var e=this.props.msg;e&&i(e)}},{key:"render",value:function(){var e=this.props.text?this.props.text:"";return setTimeout(this.handleChange,1e3),h["default"].createElement("span",null,this.state.count,e)}}]),t}(h["default"].Component),u.defaultProps={time:5},c);t["default"]=b,e.exports=t["default"]},108:534,133:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=void 0;var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),c=r(u),s=n(53),f=r(s);n(193);var d=function(e){function t(){return a(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),i(t,[{key:"render",value:function(){var e=this.props.textSmall?c["default"].createElement("span",{className:"title-small"},this.props.textSmall):"";return c["default"].createElement("div",{className:"success-page"},c["default"].createElement("em",{className:"iconfont"},"\ue611"),c["default"].createElement("span",{className:"title"},this.props.text),e,c["default"].createElement("span",{className:"text"},c["default"].createElement("s",null,c["default"].createElement(f["default"],{time:this.props.time,callback:this.props.callback})),"\u79d2\u949f\u4e4b\u540e\uff0c\u5c06\u8df3\u8f6c\u81f3 ",c["default"].createElement("a",{href:this.props.link},this.props.linkname)))}}]),t}(c["default"].Component);t["default"]=d,e.exports=t["default"]},193:534});