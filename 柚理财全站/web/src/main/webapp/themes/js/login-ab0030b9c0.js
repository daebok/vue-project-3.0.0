webpackJsonp([33],{0:function(e,t,r){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function i(){return!1}function o(e){u["default"].error({title:e,okText:"\u5173\u95ed",wrapClassName:"tiperror"})}var n=r(9),l=a(n),s=r(14),c=a(s),d=r(3),u=a(d),f=r(10),m=a(f),g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e};r(8);var h=r(2),p=a(h),w=r(1),E=a(w);r(573);var v=(r(5),r(7)),N=m["default"].create,x=m["default"].Item,b=E["default"].createClass({displayName:"Loginform",handleSubmit:function(e){var t=this;e.preventDefault(),this.props.form.validateFields(function(e,r){return e?void console.log("Errors in form!!!"):(console.log("Submit!!!"),console.log(r),void $.ajax({url:"/user/doLogin.html",type:"POST",dataType:"json",data:r}).done(function(e){e.result?e.pwdResetFlag?window.location.href="/user/pwdReset.html":t.props.url?window.location.href=t.props.url:window.location.href="/member/account/main.html":(t.props.form.resetFields(["validCode"]),$(".codeimg")[0].click(),e.showCaptcha&&(t.setState({ischeck:!0}),t.refs.imgcoderow.className="row show",t.changeimg()),o(e.msg))}).fail(function(){o("\u7f51\u7edc\u5f02\u5e38\uff0c\u8bf7\u91cd\u8bd5\uff01")}))})},getInitialState:function(){return{imgsrc:"/validimg.html",ischeck:!1,imgcodeerrorbg:!1}},changeimg:function(){this.setState({imgsrc:"/validimg.html?t="+Math.random()})},isloginName:function(e,t,r){t&&v.Reg.islogname(t)?r([new Error("\u62b1\u6b49\uff0c\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u7528\u6237\u540d/\u624b\u673a\u53f7\u7801/\u7535\u5b50\u90ae\u7bb1")]):r()},checkPass:function(e,t,r){this.props.form.validateFields;/\s/.test(t)&&r([new Error("\u5bc6\u7801\u4e0d\u80fd\u5305\u542b\u7a7a\u683c")]),r()},check:function(e){var t=e.keyCode||e.which,r=e.shiftKey||16==t||!1;t>=65&&t<=90&&!r||t>=97&&t<=122&&r?$("#j-capsLock").show():$("#j-capsLock").hide()},close:function(){$("#j-capsLock").hide()},getInfo:function(){var e=this;$.ajax({url:"/user/showCaptcha.html",type:"POST",dataType:"json"}).done(function(t){t.result&&(e.setState({ischeck:!0}),e.refs.imgcoderow.className="row show")}).fail(function(){})},componentWillMount:function(){this.getInfo()},render:function(){var e=this.props.form,t=e.getFieldProps,r=(e.getFieldError,e.isFieldValidating,t("loginName",{validate:[{rules:[{required:!0,message:"\u8bf7\u586b\u5199\u7528\u6237\u540d/\u624b\u673a\u53f7\u7801/\u7535\u5b50\u90ae\u7bb1"},{validator:this.isloginName}],trigger:["onBlur"]}]})),a=t("loginPwd",{validate:[{rules:[{required:!0,whitespace:!0,message:"\u8bf7\u586b\u5199\u5bc6\u7801"}],trigger:["onBlur"]},{rules:[{validator:this.checkPass}],trigger:["onBlur"]}]}),o=t("validCode",{validate:[{rules:[{required:this.state.ischeck,whitespace:!0,message:"\u8bf7\u586b\u5199\u9a8c\u8bc1\u7801"}],trigger:["onBlur"]}]}),n={wrapperCol:{span:20,offset:2}},s=t("redirectURL",{initialValue:""}),d=t("isRsa",{initialValue:"0"});return E["default"].createElement(m["default"],{horizontal:!0,className:"form-themes",form:this.props.form,onSubmit:this.handleSubmit},E["default"].createElement("div",{className:"login-title"},"\u767b\u5f55"),E["default"].createElement(x,g({},n,{hasFeedback:!0}),E["default"].createElement(c["default"],g({},r,{maxLength:"50",placeholder:"\u7528\u6237\u540d/\u624b\u673a\u53f7\u7801/\u7535\u5b50\u90ae\u7bb1"}))),E["default"].createElement(x,g({},n,{hasFeedback:!0}),E["default"].createElement(c["default"],g({},a,{placeholder:"\u767b\u5f55\u5bc6\u7801",maxLength:"16",type:"password",autoComplete:"off",onContextMenu:i,onPaste:i,onCopy:i,onCut:i,onKeyPress:this.check,onBlur:this.close,size:"large"}))),E["default"].createElement("div",{id:"j-capsLock",className:"ant-tooltip  ant-tooltip-placement-top  ant-tooltip-hidden"},E["default"].createElement("div",{className:"ant-tooltip-content"},E["default"].createElement("div",{className:"ant-tooltip-arrow"}),E["default"].createElement("div",{className:"ant-tooltip-inner"},"\u5927\u5199\u5df2\u6253\u5f00"))),E["default"].createElement("div",{className:"row hide",ref:"imgcoderow"},E["default"].createElement("div",{className:"col-10 col-offset-2"},E["default"].createElement(x,{hasFeedback:!0},E["default"].createElement(c["default"],g({},o,{placeholder:"\u9a8c\u8bc1\u7801",maxLength:"4",size:"large",type:"text",autoComplete:"off"})))),E["default"].createElement("div",{className:"col-8 col-offset-4"},E["default"].createElement("img",{onClick:this.changeimg,src:this.state.imgsrc,className:"ant-form-text codeimg"}))),E["default"].createElement(c["default"],g({},s,{type:"hidden"})),E["default"].createElement(c["default"],g({},d,{type:"hidden"})),E["default"].createElement("div",{className:"ant-form-item forget-reg-link"},E["default"].createElement("div",{className:"col-20 col-offset-2 forget-reg-link-cont"},E["default"].createElement("a",{href:"/user/retrievepwd/index.html"},"\u5fd8\u8bb0\u5bc6\u7801?"),E["default"].createElement("a",{href:"/user/register.html",className:"fr"},"\u514d\u8d39\u6ce8\u518c"))),E["default"].createElement(x,{wrapperCol:{span:20,offset:2}},E["default"].createElement(l["default"],{type:"primary",htmlType:"submit"},"\u7acb\u5373\u767b\u5f55")))}});b=N()(b),p["default"].render(E["default"].createElement(b,{url:$(".login-body").data("url")}),document.getElementById("loginbox"))},5:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ValidateFn=void 0;var a=r(7),i={regexRealName:function(e,t,r){t?a.Reg.regexRealName(t)?r():r([new Error("\u7528\u6237\u540d\u683c\u5f0f\u4e0d\u6b63\u786e")]):r()},regexChnName:function(e,t,r){t?a.Reg.regexChnName(t)?r():r([new Error("\u4ec5\u4e3a\u4e2d\u6587,\u4e14\u4e0d\u5305\u542b\u7a7a\u683c")]):r()},regexUserName:function(e,t,r){t&&a.Reg.regexUserName(t)?r([new Error("6-20\u4f4d\u5b57\u7b26\uff0c\u7531\u5b57\u6bcd\u6216\u5b57\u6bcd\u52a0\u6570\u5b57\u7ec4\u6210")]):r()},regexUserNameAjax:function(e,t,r){if(t)if(/^(?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z]{6,20}|[a-zA-Z]{6,20}$/.test(t)){var a=this;if(this.state.regexUserNameflag==t)return void r();$.ajax({url:"/user/checkUserName.html",type:"POST",dataType:"json",data:{userName:t}}).done(function(e){e.result?(a.state.regexUserNameflag=t,r()):r([new Error(e.msg)])}).fail(function(){r([new Error("\u7f51\u7edc\u5f02\u5e38\uff0c\u8bf7\u91cd\u8bd5")])})}else r([new Error("6-20\u4f4d\u5b57\u7b26\uff0c\u7531\u5b57\u6bcd\u6216\u5b57\u6bcd\u52a0\u6570\u5b57\u7ec4\u6210")]);else r()},regexIdCard:function(e,t,r){t?a.Reg.regexIdCard(t)?r():r([new Error("\u8eab\u4efd\u8bc1\u683c\u5f0f\u4e0d\u6b63\u786e,\u4ec5\u9650\u6570\u5b57\u548c\u5927\u5199X")]):r()},regexPW:function(e,t,r){t&&a.Reg.regexPassword(t)?r([new Error("8-16\u4f4d\u5b57\u7b26\uff0c\u5176\u4e2d\u5305\u62ec\u81f3\u5c11\u4e00\u4e2a\u5b57\u6bcd\u548c\u4e00\u4e2a\u6570\u5b57")]):r()},isMobile:function(e,t,r){t&&a.Reg.isMobile(t)?r([new Error("\u62b1\u6b49\uff0c\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u624b\u673a\u53f7\u7801")]):r()},isNumber:function(e,t,r){t&&a.Reg.isNumber(t)?r([new Error("\u62b1\u6b49\uff0c\u8bf7\u8f93\u5165\u6b63\u6574\u6570")]):r()},isApr:function(e,t,r){t&&a.Reg.isApr(t)?r([new Error("\u62b1\u6b49\uff0c\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u6570\u5b57")]):r()},decimal:function(e,t,r){t&&a.Reg.isFigure(t)?r([new Error("\u62b1\u6b49\uff0c\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u6570\u5b57")]):r()},isFigure:function(e,t,r){t&&(a.Reg.isFigure(t)||15!=t.length)?r([new Error("\u62b1\u6b49\uff0c\u8bf7\u8f93\u516515\u4f4d\u6570\u5b57")]):r()},isEmail:function(e,t,r){t&&a.Reg.isEmail(t)?r([new Error("\u62b1\u6b49\uff0c\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u90ae\u7bb1")]):r()},isFixNumber:function(e,t,r){t&&(a.Reg.isFixNumber(t)||a.Reg.isFigure(t)||t.length>12||a.Reg.isPhone(t))?r([new Error("\u62b1\u6b49\uff0c\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u5ea7\u673a\u53f7\u7801")]):r()},isloginName:function(e,t,r){t&&a.Reg.islogname(t)?r([new Error("\u62b1\u6b49\uff0c\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u624b\u673a\u53f7\u7801\u6216\u90ae\u7bb1")]):r()},checkMobile:function(e,t,r){if(t)if(a.Reg.isMobile(t))r([new Error("\u62b1\u6b49\uff0c\u8bf7\u8f93\u5165\u6b63\u786e\u7684\u624b\u673a\u53f7\u7801")]);else{var i=this;if(this.state.mobileflag==t)return void r();$.ajax({url:"/user/checkMobile.html",type:"POST",dataType:"json",data:{mobile:t}}).done(function(e){e.result?(i.setState({mobileflag:t}),r()):r([new Error(e.msg)])}).fail(function(){r([new Error("\u7f51\u7edc\u5f02\u5e38\uff0c\u8bf7\u91cd\u8bd5")])})}else r()},checkValidCode:function(e,t,r){if(t){var a=this;if(this.state.ValidCodeflag==t)return void r();$.ajax({url:"/valicode.html",type:"POST",dataType:"json",data:{validCode:t}}).done(function(e){e.result?(a.setState({ValidCodeflag:t}),r()):(r([new Error(e.msg)]),$(".codeimg")[0].click())}).fail(function(){r([new Error("\u7f51\u7edc\u5f02\u5e38\uff0c\u8bf7\u91cd\u8bd5")])})}else r()}};t.ValidateFn=i},573:534});