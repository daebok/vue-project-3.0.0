webpackJsonp([31],{193:function(e,t,a){a(562);var i=a(12)(a(400),a(774),"data-v-1cc6f2db",null);e.exports=i.exports},254:function(e,t,a){"use strict";t.a={bind:function(e,t,a){var i=function(t){a.context&&!e.contains(t.target)&&a.context[e["@@clickoutsideContext"].methodName]()};e["@@clickoutsideContext"]={documentHandler:i,methodName:t.expression,arg:t.arg||"click"},document.addEventListener(e["@@clickoutsideContext"].arg,i)},update:function(e,t){e["@@clickoutsideContext"].methodName=t.expression},unbind:function(e){document.removeEventListener(e["@@clickoutsideContext"].arg,e["@@clickoutsideContext"].documentHandler)},install:function(e){e.directive("clickoutside",{bind:this.bind,unbind:this.unbind})}}},261:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a(18),r=a.n(i),s=a(254);t.default={name:"rd-field",data:function(){return{active:!1,currentValue:this.value,showEye:!1}},directives:{Clickoutside:s.a},props:{type:{type:String,default:"text"},rows:String,label:String,placeholder:String,name:String,readonly:Boolean,disabled:Boolean,disableClear:Boolean,state:{type:String,default:"default"},specInput:String,value:{},attr:Object,switchEye:{type:Boolean,default:!1}},methods:{doCloseActive:function(){this.active=!1},handleInput:function(e){var t=e.target.value;"tel"===this.type&&(t=t.replace(/\D*$/,""),this.$refs.input.value=t),this.currentValue=t},handleClear:function(){this.disabled||this.readonly||(this.currentValue="",this.$refs.input.focus())},hideShowPwd:function(e){var t=e.target.dataset.flag;this.showEye=!this.showEye,this.$refs.input.focus(),this.$emit("changeEye",t)}},watch:{value:function(e){this.currentValue=e.replace(/\s/,"")},currentValue:function(e){this.$emit("input",e)},attr:{immediate:!0,handler:function(e){var t=this;this.$nextTick(function(){"tel"===t.type&&t.$refs.input.setAttribute("maxlength",11),"password"===t.type&&t.$refs.input.setAttribute("maxlength",16),[t.$refs.input,t.$refs.textarea].forEach(function(t){t&&e&&r()(e).map(function(a){return t.setAttribute(a,e[a])})})})}}}}},262:function(e,t,a){t=e.exports=a(29)(!1),t.push([e.i,".rd-label{display:inline-block;padding-left:15px}.rd-field-core{-webkit-appearance:none;border-radius:0;border:0;outline:0;width:60%;position:absolute;left:20%;top:.12rem;padding-left:5%}.pwdInput.rd-field-core{width:62%}.loginInput.rd-field-core{text-align:center;margin-top:-4px;font-size:15px;padding-left:0}.rd-field-clear{opacity:.2;position:absolute;right:15px;top:3px}.pwdInput-clear.rd-field-clear{right:45px}.codeInput-clear.rd-field-clear{right:123px}.loginInput-clear.rd-field-clear{top:0}.spec-clear.rd-field-clear{right:40px;top:0}.show-hide-pwd{width:.2rem;margin:.1rem 0 0;position:absolute;top:.05rem;right:.12rem}.loginInput.show-hide-pwd{top:2px}.rd-field-state{color:inherit;margin-left:20px}.rd-field-state .mintui{font-size:20px}.rd-field-other{position:absolute;right:0;top:0}",""])},263:function(e,t,a){var i=a(262);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);a(172)("6444ccda",i,!0)},264:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAP1BMVEUAAAC9vb29vb29vb29vb29vb29vb29vb29vb29vb29vb29vb29vb29vb29vb29vb29vb29vb29vb29vb29vb3JdqeAAAAAFHRSTlMA64OUPQIrCdMSWhrH3m+2+J6qTZogeScAAAC3SURBVDjL7VHLEoMgEGNRYHkpav7/WwtLGR2n3nprcwkk+wT1x7fgNLsnT29RKZMxPfgHMFeywPLRn4cRcK9xyiMSq7+PNgHY5GirDZTFXe1AgO4tPGE1NrX4EMX1R8tmq4IMmSBrHhkNxCRcgmlrokRF5KUoYU8FgrQDtolmBSvXe09gU8OWPu7WbhU+87mz7cxiELToLUw4vwUPnAkDouf3lkAcLdUVcTwUYxZ2aX/4wFr6F/ECsCkJ5m7Ol/AAAAAASUVORK5CYII="},265:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAQlBMVEUAAAC9vb29vb29vb29vb29vb29vb29vb29vb29vb29vb29vb29vb29vb29vb29vb29vb29vb29vb29vb29vb29vb1vaU77AAAAFXRSTlMAqBC+N+wbA5vQ93eAQQoqWmdM4oojC086AAAA8ElEQVQ4y92SCw6EIAxEUT6loALi3P+qC9j1k73BvsRIp+2UGtW/keJUAQT2ef7NUmY88Em9MdzVnGZFbl16cGzPfARseShpasJtQi08SDVWz7tYVmBVQssPeWsHZBE3D0jxAhgpbCyX8SH6+vUy6FS6KjyCa1YW8RsPWiSQhu4DWHoYJ8vl4YCibHveBbDeXNeoqiDM9whBFkx9KWJokkteFqfgLHx/BUz0ttjPfAWTdOoxhaQin4YB3GQ52v08edaLGx/yGG2C4xat6mYrVtYVKI7tcpppc6ZMANioF3O0eKB39QOZONUwfrni1J/xAQEOEvbOvh0YAAAAAElFTkSuQmCC"},266:function(e,t,a){a(263);var i=a(12)(a(261),a(267),null,null);e.exports=i.exports},267:function(e,t,a){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"clickoutside",rawName:"v-clickoutside",value:e.doCloseActive,expression:"doCloseActive"}],staticClass:"rd-field rd-login-pwd"},[i("span",{staticClass:"rd-label",domProps:{textContent:e._s(e.label)}}),e._v(" "),i("input",{ref:"input",staticClass:"rd-field-core",class:[e.specInput],attrs:{placeholder:e.placeholder,name:e.name,number:"number"===e.type,type:e.type,disabled:e.disabled,readonly:e.readonly},domProps:{value:e.currentValue},on:{focus:function(t){e.active=!0},input:e.handleInput}}),e._v(" "),e.disableClear?e._e():i("div",{directives:[{name:"show",rawName:"v-show",value:e.currentValue&&"textarea"!==e.type&&e.active,expression:"currentValue && type !== 'textarea' && active"}],staticClass:"rd-field-clear",class:[e.specInput+"-clear"],on:{click:e.handleClear}},[i("i",{staticClass:"mintui mintui-field-error"})]),e._v(" "),e.state?i("span",{staticClass:"rd-field-state",class:["is-"+e.state]},[i("i",{staticClass:"mintui",class:["mintui-field-"+e.state]})]):e._e(),e._v(" "),i("div",{staticClass:"rd-field-other"},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.switchEye,expression:"switchEye"}]},[i("img",{directives:[{name:"show",rawName:"v-show",value:e.showEye,expression:"showEye"}],staticClass:"show-hide-pwd",class:[e.specInput+"-eye"],attrs:{src:a(265),"data-flag":"0"},on:{click:e.hideShowPwd}}),e._v(" "),i("img",{directives:[{name:"show",rawName:"v-show",value:!e.showEye,expression:"!showEye"}],staticClass:"show-hide-pwd",class:[e.specInput+"-eye"],attrs:{src:a(264),"data-flag":"1"},on:{click:e.hideShowPwd}})]),e._v(" "),e._t("default")],2)])},staticRenderFns:[]}},270:function(e,t,a){"use strict";var i=60;t.a={methods:{getCodeTime:function(e,t){var a=this;if(0===(i=t||i))e.target.removeAttribute("disabled"),e.target.innerText="获取验证码",e.target.classList.remove("color-999"),i=60;else{e.target.setAttribute("disabled",!0),e.target.innerText=i+"s 重新获取",e.target.classList.add("color-999"),i--;setTimeout(function(){a.getCodeTime(e)},1e3)}}}}},272:function(e,t,a){"use strict";t.a={setApr:function(e){""!=e.value?-1==e.value.search(/^([1-9]\d{0,1}|0)(?:\.\d{0,2})?$/)?(e.value="",e.value=e.value2?e.value2:""):e.value2=e.value:e.value2=""},setMoney:function(e,t){""!=e.value?-1==e.value.search(/^([1-9]\d{0,7}|0)(?:\.\d{0,2})?$/)?(e.value="",e.value=e.value2?e.value2:""):e.value2=e.value:e.value2=""},setNumber:function(e,t){""!=e.value?-1==e.value.search(/^([0-9]\d*)?$/)?(e.value="",e.value=e.value2?e.value2:""):e.value2=e.value:e.value2=""}}},273:function(e,t,a){"use strict";t.a={methods:{backUrl:function(e){this.$route.query.from?this.$router.push(e):this.$router.go(-1)}}}},286:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a(18),r=a.n(i),s=a(254);a(272);t.default={name:"rd-money-input",data:function(){return{active:!1,currentValue:this.value}},directives:{Clickoutside:s.a},props:{type:{type:String,default:"text"},label:String,placeholder:String,directive:String,maxlength:String,pattern:String,name:String,readonly:Boolean,disabled:Boolean,disableClear:Boolean,specInput:String,inputType:{type:String,default:"money"},value:{},attr:Object},methods:{doCloseActive:function(){this.active=!1},handleInput:function(e){var t=/^([1-9]\d{0,7}|0)(?:\.\d{0,2})?$/;"number"==this.inputType&&(t=/^[0-9]*$/),t.test(e.target.value)?this.oldVal=e.target.value:this.$refs.input.value=this.oldVal,this.currentValue=e.target.value},handleBlur:function(e){var t=e.target.value;this.$refs.input.value=t,this.currentValue=t},handleClear:function(){this.disabled||this.readonly||(this.currentValue="",this.$refs.input.value="",this.$refs.input.value2="",this.$refs.input.focus())}},watch:{value:function(e){this.currentValue=e.toString().replace(/\s*$/,"")},currentValue:function(e){this.$emit("input",e)},attr:{immediate:!0,handler:function(e){var t=this;this.$nextTick(function(){[t.$refs.input,t.$refs.textarea].forEach(function(t){t&&e&&r()(e).map(function(a){return t.setAttribute(a,e[a])})})})}}}}},288:function(e,t,a){t=e.exports=a(29)(!1),t.push([e.i,".rd-field{line-height:.44rem;position:relative;background:#fff}.rd-field .rd-label{display:inline-block;padding-left:15px}.rd-field .rd-field-core{-webkit-appearance:none;border-radius:0;border:0;outline:0;width:60%;position:static;padding-left:5%}.rd-field .rd-field-clear{opacity:.2;position:absolute;right:15px;top:3px}.rd-field .spec-clear.rd-field-clear{right:40px;top:0}.rd-field .rd-field-other{position:absolute;right:0;top:0}",""])},289:function(e,t,a){var i=a(288);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);a(172)("89e31a24",i,!0)},300:function(e,t,a){a(289);var i=a(12)(a(286),a(302),null,null);e.exports=i.exports},302:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"clickoutside",rawName:"v-clickoutside",value:e.doCloseActive,expression:"doCloseActive"}],staticClass:"rd-field"},[a("span",{staticClass:"rd-label",domProps:{textContent:e._s(e.label)}}),e._v(" "),a("input",{ref:"input",staticClass:"rd-field-core",class:[e.specInput],attrs:{placeholder:e.placeholder,maxlength:e.maxlength,pattern:e.pattern,name:e.name,type:e.type,disabled:e.disabled,readonly:e.readonly,imeMode:"inactive",autocapitalize:"on"},domProps:{value:e.currentValue},on:{focus:function(t){e.active=!0},input:e.handleInput,blur:e.handleBlur}}),e._v(" "),e.disableClear?e._e():a("div",{directives:[{name:"show",rawName:"v-show",value:e.currentValue&&"textarea"!==e.type&&e.active,expression:"currentValue && type !== 'textarea' && active"}],staticClass:"rd-field-clear",class:[e.specInput+"-clear"],on:{click:e.handleClear}},[a("i",{staticClass:"mintui mintui-field-error"})]),e._v(" "),a("div",{staticClass:"rd-field-other"},[e._t("default")],2)])},staticRenderFns:[]}},400:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a(61),r=a(273),s=a(266),n=a.n(s),o=a(300),l=a.n(o),d=a(270);t.default={data:function(){return{submitUrl:i.doRecharge,resdata:"",inputMoney:"",repeatFlag:!0,getParams:{userId:this.$store.state.user.userId,__sid:this.$store.state.user.__sid},smsClick:!1,smsCode:"",mobile:"",bankNo:""}},created:function(){var e=this;this.$indicator.open({spinnerType:"fading-circle"}),this.$http.get(i.toRecharge,{params:this.getParams}).then(function(t){""!=t.data.resData&&(e.resdata=t.data.resData,""==e.resdata.bankNo&&e.$messagebox({title:" ",showCancelButton:!1,confirmButtonText:"知道了",closeOnClickModal:!1,message:"请先绑定与身份信息一致的银行卡再操作！"}).then(function(t){"confirm"==t&&e.$router.push("/mine/safe/bank?from=account")}),e.mobile=e.resdata.mobile,e.bankNo=e.resdata.bankNo,e.resdata.warmTips=t.data.resData.warmTips.replace(/\n/g,"<br/>"),e.$indicator.close())})},watch:{inputMoney:function(e,t){-1==e.search(/^([1-9]\d*|0)/)&&(this.inputMoney="")}},components:{RdMoney:l.a,RdField:n.a},mixins:[r.a,d.a],methods:{getCode:function(e){var t=this;this.$indicator.open({spinnerType:"fading-circle"}),this.smsClick=!0;var a={userId:this.$store.state.user.userId,__sid:this.$store.state.user.__sid,srvTxCode:"directRechargeOnline",reqType:2,cardId:this.resdata.bankList[0].bankNo,mobile:this.mobile};this.$http.get(i.smsCodeApply,{params:a}).then(function(a){t.$indicator.close(),"39321"==a.data.resCode?t.getCodeTime(e,60):t.$toast(a.data.resMsg)})},confirmSub:function(){var e=this;if(this.inputMoney<this.resdata.rechargeMinAmount)return void this.$toast("充值金额不能小于"+this.resdata.rechargeMinAmount+"元");if(this.inputMoney>this.resdata.rechargeMaxAmount)return void this.$toast({message:"充值金额不能大于"+this.resdata.rechargeMaxAmount+"元"});if(this.repeatFlag){var t={userId:this.$store.state.user.userId,__sid:this.$store.state.user.__sid,amount:this.inputMoney,cardId:this.resdata.bankList[0].bankNo,mobile:this.mobile,rechargeToken:this.resdata.rechargeToken,smsCode:this.smsCode};this.smsClick?(this.$indicator.open({spinnerType:"fading-circle"}),this.$http.get(i.doRecharge,{params:t}).then(function(t){e.$indicator.close(),"39321"==t.data.resCode?e.$messagebox({title:" ",showCancelButton:!1,confirmButtonText:"知道了",closeOnClickModal:!1,message:t.data.resMsg}).then(function(t){"confirm"==t&&e.$router.push("/account/cash_record/?type=tab-con1")}):e.$toast(t.data.resMsg)})):this.$toast({message:"请先点击获取验证码"}),"investBid"==this.$route.query.from?sessionStorage.from_investBid_id=this.$route.query.id:"realizeBid"==this.$route.query.from?sessionStorage.from_realizeBid_id=this.$route.query.id:"bondBid"==this.$route.query.from&&(sessionStorage.from_bondBid_id=this.$route.query.id)}}}}},474:function(e,t,a){t=e.exports=a(29)(!1),t.push([e.i,".recharge-top[data-v-1cc6f2db]{height:.8rem;width:100%;background:#ff9545;padding:0 5%}.form-text[data-v-1cc6f2db]{position:relative}.input-text[data-v-1cc6f2db]{width:60%}.rd-field-clear[data-v-1cc6f2db]{position:absolute;right:.15rem;opacity:.2;top:.15rem}.recharge-top p[data-v-1cc6f2db]{margin-top:.16rem;float:left;width:100%;line-height:1;font-size:.16rem;font-family:arial;color:#fff}.confirm-btn[data-v-1cc6f2db]{margin:.3rem 5% 0}.b-tips[data-v-1cc6f2db]{font-size:.12rem;color:#999;margin-top:.18rem;text-align:center}.bank-description-tip[data-v-1cc6f2db]{display:inline-block;padding:0 5%;font-size:.12rem;line-height:.42rem}",""])},562:function(e,t,a){var i=a(474);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);a(172)("061a4b48",i,!0)},774:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page",attrs:{id:"pageDetail"}},[a("mt-header",{staticClass:"bar-nav",attrs:{title:"充值"}},[a("mt-button",{directives:[{name:"back-link",rawName:"v-back-link"}],attrs:{icon:"back"},slot:"left"}),e._v(" "),a("router-link",{attrs:{to:"/account/cash_record/?type=tab-con1"},slot:"right"},[a("mt-button",[e._v("记录")])],1)],1),e._v(" "),a("div",{staticClass:"recharge-top"},[a("p",[e._v("账户余额")]),e._v(" "),""!=e.resdata?a("p",[e._v(e._s(e._f("currency")(e.resdata.money,"",2))+"元")]):e._e()]),e._v(" "),a("form",{staticClass:"form-area",attrs:{action:e.submitUrl,method:"post",id:"formId"}},[a("ul",{staticClass:"margin-t-15"},[a("li",[a("rd-money",{attrs:{label:"充值金额(元)",maxlength:"8",type:"text",name:"amount",placeholder:"请输入金额",readonly:""==e.resdata},model:{value:e.inputMoney,callback:function(t){e.inputMoney="string"==typeof t?t.trim():t},expression:"inputMoney"}})],1),e._v(" "),a("li",[a("rd-field",{attrs:{type:"text",label:"银行卡号",attr:{value:e.bankNo},readonly:""}})],1),e._v(" "),a("li",[a("rd-field",{attrs:{type:"text",label:"绑定手机",attr:{value:e.mobile},readonly:""}})],1),e._v(" "),a("li",[a("rd-field",{attrs:{type:"tel",name:"smsCode",attr:{maxlength:6},label:"验证码",placeholder:"请输入验证码"},model:{value:e.smsCode,callback:function(t){e.smsCode=t},expression:"smsCode"}},[a("button",{staticClass:"yzm main-color aui-border-l ellipsis",on:{click:function(t){t.preventDefault(),e.getCode(t)}}},[e._v("发送验证码")])])],1)]),e._v(" "),a("input",{attrs:{type:"hidden",name:"rechargeToken"},domProps:{value:e.resdata.rechargeToken}}),e._v(" "),a("input",{attrs:{type:"hidden",name:"__sid"},domProps:{value:e.getParams.__sid}}),e._v(" "),a("input",{attrs:{type:"hidden",name:"userId"},domProps:{value:e.getParams.userId}})]),e._v(" "),a("div",{staticClass:"confirm-btn"},[e.inputMoney&&e.smsCode?a("mt-button",{attrs:{size:"large",type:"danger",disabled:""==e.resdata},nativeOn:{click:function(t){e.confirmSub(t)}}},[e._v("充 值")]):a("mt-button",{attrs:{size:"large",type:"default",disabled:""}},[e._v("充 值")])],1),e._v(" "),a("div",{staticClass:"b-tips margin-b-30"},[e._v("\n    点击将跳转到资金托管账户进行充值\n  ")]),e._v(" "),a("div",{staticClass:"form-prompt"},[a("p",{staticClass:"prompt-title"},[e._v("温馨提示：")]),e._v(" "),a("p",{domProps:{innerHTML:e._s(e.resdata.warmTips)}})])],1)},staticRenderFns:[]}}});